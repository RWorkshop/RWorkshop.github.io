<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Rworkshop.GitHub.io : R Workshop">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Rworkshop.GitHub.io</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/RWorkshop">View on GitHub</a>

          <h1 id="project_title">Rworkshop.GitHub.io</h1>
          <h2 id="project_tagline">R Workshop</h2>

        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

R Statistical Programming - Simple Linear Regression
 
<h5>Simple Linear Regression</h5>

We use the method of least squares
A Scatterplot is created and can initially be used to get an idea
about the nature of the relationship between the variables, e.g. if the
relationship is linear, curvilinear, or no relationship exists.
We read the data from the film SLRex1.txt into a data frame SLR1.

Correlation Coefficient
\[r = \frac{Cov(x,y}{Var(x)Var(y)}\]
Hypothesis test of the Correlation Coefficient
We can carry out an hypothesis test for the correlation coefficient
using the cor.test function.

Model Fitting
Model Diagnostics
 
A QQplot checks the assumption of normality.
 


\subsection{Correlation Structure Example}


\section{Correlation and Simple Regression Models}
\subsection{Correlation and Covariance}

Pearson rho is the most commonly used correlation measure.

Another commonly used measure is the Spearman Rank Correlation. 

covaraince is related to correlation. In fact many students understand it only as an intermediate calculation when computing the correlation.

It is common to express correlations in terms of a matrix. Necessarily the diagonal elements are all ones.

It is possible to directly compute the correlation matrix from the covariance matrix using the functiob cov2cor().
%==============================================================================%

	      
\subsection{Correlation}

A correlation coefficient is a number between -1 and 1 which measures the degree to which two variables are linearly related. If there is perfect linear relationship with positive slope between the two variables, we have a correlation coefficient of 1; if there is positive correlation, whenever one variable has a high (low) value, so does the other.

If there is a perfect linear relationship with negative slope between the two variables, we have a correlation coefficient of -1; if there is negative correlation, whenever one variable has a high (low) value, the other has a low (high) value.
A correlation coefficient of 0 means that there is no linear relationship between the variables.

We can determine the Pearson Correlation coefficient in R using the \texttt{cor()} command.
To get a more complete statistical analysis, with formal tests, we can use the command \texttt{cor.test()}
The interpretation of the output from the cor.test()procedure is very similar to procedures we have already encountered. The null hypothesis is that the correlation coefficient is equal to zero. This is equivalent to saying that there is no linear relationship between variables.


<pre><code>C=c(0,2,4,6,8,10,12) 
F=c(2.1,5.0,9.0,12.6,17.3,21.0,24.7)
cor.test(C,F)

        Pearson's product-moment correlation

data:  C and F 
t = 47.1967, df = 5, p-value = 8.066e-08
alternative hypothesis: true correlation is not equal to 0 
95 percent confidence interval:
 0.9920730 0.9998421 
sample estimates:
      cor 
0.9988796 
</code></pre>




\subsection{Spearman and Kendall Correlation}
Spearman and Kendall correlations are both \textbf{\emph{rank correlations}}. 
To implement Spearman and Kendall correlation, simply specify the type in the \texttt{method=" "} argument.
\begin{verbatim}
> cor(G,D)
[1] 0.3167869
>
> cor(G,D,method="spearman")
[1] 0.1785714
>
> cor(G,D,method="kendall")
[1] 0.1428571
> 
\end{verbatim}
The interpretation is very similar, but there are no confidence intervals for the estimates.

\subsection{Fitting a Regression Model}
A regression model is fitted using the \texttt{lm()} command.

Consider the response variable $F$ and predictor variable $C$.
<pre><code>C=c(0,2,4,6,8,10,12) 
F=c(2.1,5.0,9.0,12.6,17.3,21.0,24.7)
Fit1=lm(F~C)</code></pre>


\item{Correlation Analysis}
Compute the Pearson correlation for the dependent variable with the respective independent variables.  As part of your report, mention the confidence interval for the correlation estimate
Choose the independent variables with the highest correlation as your candidate variables.
For these independent variables, perform a series of simple linear regression procedures.
<pre><code>lm(y~x1)
lm(y~x2)
</code></pre>

Comment on the slope and intercept estimates and their respective p-values. Also comment on the coefficient of determination (multiple R squared). Remember to write the regression equations.
Perform a series of multiple linear regressions, using pairs of candidate independent variables.
\begin{verbatim}
lm(y~x1 +x2)
lm(y~x2 +x3)
\end{verbatim}
Again, comment on the slope and intercept estimates, and their respective p-values.
In this instance, compare each of the models using the coefficient of determinations. Which model explains the data best?
<h5>Analysis of residuals</h5>
Perform an analysis of regression residuals ( you can pick the best regression model from last section).
Are the residuals normally distributed?
	Histogram /  Boxplot / QQ plot / Shapiro Wilk Test
Also you can plot the residuals to check that there is constant variance.
<pre><code>y=rnorm(10)
x=rnorm(10)
fit1=lm(y~x)
res.fit1 = resid(fit1)
plot(res.fit1)
</code></pre>
    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>

